var Ue=t=>{throw TypeError(t)};var Ee=(t,e,i)=>e.has(t)||Ue("Cannot "+i);var N=(t,e,i)=>(Ee(t,e,"read from private field"),i?i.call(t):e.get(t)),Y=(t,e,i)=>e.has(t)?Ue("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i),se=(t,e,i,l)=>(Ee(t,e,"write to private field"),l?l.call(t,i):e.set(t,i),i),M=(t,e,i)=>(Ee(t,e,"access private method"),i);import{r as D,t as Ne,c as U,o as Oe,a as qe,w as me,b,d as f,e as o,f as P,g as I,n as _,F as ne,h as le,i as ye,u as a,j as fe,v as Te,k as He,m as Se,l as pe,p as X,q as ze,s as nt,x as at}from"./vue-vendor-CCvyW_1H.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function i(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(s){if(s.ep)return;s.ep=!0;const r=i(s);fetch(s.href,r)}})();const ke={development:{baseURL:"http://localhost:3000/api",timeout:5e3},production:{baseURL:"/api",timeout:1e4}},Ye="production",ge={...ke[Ye]},Z={JSON:"application/json",TEXT:"text/plain",WIREGUARD:"application/x-wireguard-config",IMAGE:"image/"},st={[Z.JSON]:t=>t.json(),[Z.TEXT]:t=>t.text(),[Z.WIREGUARD]:t=>t.blob(),[Z.IMAGE]:t=>t.blob()};async function ie(t,e={}){var s;const i=new AbortController,l=setTimeout(()=>i.abort(),ge.timeout);try{const r=await fetch(`${ge.baseURL}${t}`,{...e,headers:{"Content-Type":Z.JSON,...e.headers},signal:i.signal});if(!r.ok){const h=new Error(`HTTP error! status: ${r.status}`);throw h.status=r.status,h}const d=r.headers.get("content-type"),u=(s=Object.entries(st).find(([h])=>d==null?void 0:d.includes(h)))==null?void 0:s[1];return u?u(r):r.text()}catch(r){throw r.name==="AbortError"?new Error(`Request timeout after ${ge.timeout}ms`):r}finally{clearTimeout(l)}}const ce={setMode:t=>{if(!ke[t])throw new Error(`Invalid mode: ${t}. Use 'development' or 'production'`);Object.assign(ge,ke[t])},getMode:()=>Ye,getServers:()=>ie("/servers"),generateKey:t=>ie("/key",{method:"POST",body:JSON.stringify({token:t})}),generateConfig:t=>ie("/config",{method:"POST",body:JSON.stringify(t)}).then(e=>typeof e=="object"?JSON.stringify(e):e),downloadConfig:t=>ie("/config/download",{method:"POST",body:JSON.stringify(t),headers:{Accept:Z.WIREGUARD}}),generateQR:t=>ie("/config/qr",{method:"POST",body:JSON.stringify(t),headers:{Accept:Z.IMAGE}})},L={WORD_NUMBER:/^([a-z]+)(\d+)?$/i,SERVER_NAME:/[\/\\:*?"<>|#]/g,MULTIPLE_UNDERSCORES:/_+/g,EDGE_UNDERSCORES:/^_|_$/g,IPV4:/^(\d{1,3}\.){3}\d{1,3}$/,PRIVATE_KEY:/^[A-Za-z0-9+/]{43}=$/,TOKEN:/^[a-f0-9]{64}$/i,NON_HEX:/[^a-f0-9]/g},de=t=>t?t.split("_").map(e=>{const[,i,l]=e.match(L.WORD_NUMBER)||[null,e];return i.charAt(0).toUpperCase()+i.slice(1)+(l?` ${l}`:"")}).join(" "):"",Me=t=>t.toLowerCase().replace(L.SERVER_NAME,"_").replace(L.MULTIPLE_UNDERSCORES,"_").replace(L.EDGE_UNDERSCORES,""),it=(t,e)=>{let i;return(...l)=>{clearTimeout(i),i=setTimeout(()=>t(...l),e)}},T={PRIVATE_KEY:{REGEX:L.PRIVATE_KEY,ERROR:"Invalid private key format",validate:t=>!t||L.PRIVATE_KEY.test(t)},DNS:{IPV4_REGEX:L.IPV4,ERROR:"Invalid IPv4 address",validate:t=>t?t.split(",").every(e=>{const i=e.trim();return L.IPV4.test(i)&&i.split(".").every(l=>{const s=parseInt(l);return s>=0&&s<=255})}):!0},KEEPALIVE:{MIN:15,MAX:120,ERROR:"Must be between 15 and 120",validate:t=>{if(!t)return!0;const e=parseInt(t);return!isNaN(e)&&e>=T.KEEPALIVE.MIN&&e<=T.KEEPALIVE.MAX}},TOKEN:{REGEX:L.TOKEN,ERROR:"Token must contain only hexadecimal characters (0-9, a-f) and be 64 characters long",validate:t=>!t||L.TOKEN.test(t),sanitize:t=>t?t.toLowerCase().replace(L.NON_HEX,"").slice(0,64):""}},De=100,Ve={load:(t,e)=>t.load-e.load,country:(t,e)=>t.displayCountry.localeCompare(e.displayCountry),city:(t,e)=>t.displayCity.localeCompare(e.displayCity),name:(t,e)=>t.displayName.localeCompare(e.displayName)},lt=(t,e,i)=>({...t,country:e,city:i,displayName:de(t.name),displayCountry:de(e),displayCity:de(i)});function dt(){const t=D({allServers:[],visibleServers:[],isLoading:!1,sortBy:"name",sortOrder:"asc",filterCountry:"",filterCity:""}),{allServers:e,visibleServers:i,isLoading:l,sortBy:s,sortOrder:r,filterCountry:d,filterCity:u}=Ne(t.value),h=w=>U(()=>[...new Set(e.value.map(k=>k[w]))].sort()),S=h("country"),p=h("city"),g=U(()=>d.value?[...new Set(e.value.filter(w=>w.country===d.value).map(w=>w.city))].sort():[]),v=U(()=>{try{let w=e.value;(d.value||u.value)&&(w=w.filter($=>(!d.value||$.country===d.value)&&(!u.value||$.city===u.value)));const k=Ve[s.value]||Ve.name,K=r.value==="asc"?1:-1;return w.sort(($,V)=>k($,V)*K)}catch{return[]}}),y=U(()=>v.value.length),E=()=>{i.value=v.value.slice(0,De)};return{allServers:e,visibleServers:i,isLoading:l,sortBy:s,sortOrder:r,filterCountry:d,filterCity:u,countries:S,cities:p,citiesForCountry:g,sortedServers:v,filteredCount:y,updateVisibleServers:E,loadMoreServers:()=>{if(!l.value){const w=i.value.length,k=v.value.slice(w,w+De);k.length&&i.value.push(...k)}},toggleSort:w=>{s.value===w?r.value=r.value==="asc"?"desc":"asc":(s.value=w,r.value="asc")},loadServers:async()=>{try{l.value=!0;const w=await ce.getServers();e.value=Object.entries(w).flatMap(([k,K])=>Object.entries(K).flatMap(([$,V])=>V.map(F=>lt(F,k,$)))),E()}catch(w){throw w}finally{l.value=!1}}}}const J=new EventTarget;var W,ae,ee,te,B,A,_e,Xe,Qe,Ie,Ze,Je;class ct{constructor(){Y(this,A);Y(this,W,!1);Y(this,ae,null);Y(this,ee,"secure_");Y(this,te,null);Y(this,B,localStorage);se(this,te,null)}async set(e,i){try{return N(this,W)||await M(this,A,_e).call(this),await M(this,A,Ze).call(this,e,i),J.dispatchEvent(new CustomEvent("storage",{detail:{key:e}})),!0}catch{return!1}}async get(e){try{return N(this,W)||await M(this,A,_e).call(this),await M(this,A,Je).call(this,e)}catch{return null}}remove(e){N(this,B).removeItem(N(this,ee)+e),J.dispatchEvent(new CustomEvent("storage",{detail:{key:e}}))}clear(){Object.keys(N(this,B)).filter(e=>e.startsWith(N(this,ee))).forEach(e=>N(this,B).removeItem(e)),J.dispatchEvent(new CustomEvent("storage"))}}W=new WeakMap,ae=new WeakMap,ee=new WeakMap,te=new WeakMap,B=new WeakMap,A=new WeakSet,_e=function(){return N(this,te)||se(this,te,M(this,A,Xe).call(this)),N(this,te)},Xe=async function(){if(N(this,W))return;const[e]=await Promise.all([M(this,A,Ie).call(this,!1),M(this,A,Ie).call(this,!0)]);se(this,ae,e),se(this,W,!0)},Qe=function(){const e=document.createElement("canvas").getContext("webgl")||document.createElement("canvas").getContext("experimental-webgl");if(!e)throw new Error("WebGL not supported");const i=[e.VERSION,e.SHADING_LANGUAGE_VERSION,e.VENDOR,e.RENDERER,e.MAX_TEXTURE_SIZE,e.MAX_RENDERBUFFER_SIZE,e.MAX_VERTEX_ATTRIBS].map(l=>e.getParameter(l));return i.push(e.getSupportedExtensions().join()),i.join("|")},Ie=async function(e){const i=M(this,A,Qe).call(this),l=e?[...i].reverse().join(""):i,s=await crypto.subtle.importKey("raw",new TextEncoder().encode(l),{name:"PBKDF2"},!1,["deriveBits"]),r=await crypto.subtle.deriveBits({name:"PBKDF2",salt:new TextEncoder().encode(`nord-${e?"backup":"main"}`),iterations:11e4,hash:"SHA-256"},s,256),d=new Uint8Array(r);for(let u=0;u<d.length;u++)d[u]^=d[(u+1)%d.length];return crypto.subtle.importKey("raw",d,{name:"AES-GCM"},!0,["encrypt","decrypt"])},Ze=async function(e,i){const l=crypto.getRandomValues(new Uint8Array(12)),s=await crypto.subtle.encrypt({name:"AES-GCM",iv:l},N(this,ae),new TextEncoder().encode(JSON.stringify(i))),r=new Uint8Array(l.length+s.byteLength);r.set(l),r.set(new Uint8Array(s),l.length),N(this,B).setItem(N(this,ee)+e,btoa(String.fromCharCode(...r)))},Je=async function(e){const i=N(this,B).getItem(N(this,ee)+e);if(!i)return null;const l=new Uint8Array(atob(i).split("").map(r=>r.charCodeAt(0))),s=await crypto.subtle.decrypt({name:"AES-GCM",iv:l.slice(0,12)},N(this,ae),l.slice(12));return JSON.parse(new TextDecoder().decode(s))};const Ge=new ct,Ce={CONFIG:"wireguard_config",SERVERS:"servers_list",TOKEN:"nord_token"},O={privateKey:"",dns:"103.86.96.100",endpoint:"hostname",keepalive:25},Be=t=>!t||typeof t!="object"||!["privateKey","dns","endpoint","keepalive"].every(i=>i in t)?!1:(!t.privateKey||T.PRIVATE_KEY.validate(t.privateKey))&&T.DNS.validate(t.dns)&&["hostname","station"].includes(t.endpoint)&&T.KEEPALIVE.validate(t.keepalive),Re=(t,e)=>({country:Me(t.country),city:Me(t.city),name:t.name,privateKey:(e==null?void 0:e.privateKey)||"",dns:((e==null?void 0:e.dns)||O.dns).split(",").map(i=>i.trim()).join(", "),endpoint:(e==null?void 0:e.endpoint)||O.endpoint,keepalive:+((e==null?void 0:e.keepalive)??O.keepalive)});function ut(){const t=D({configSettings:{...O},error:null,lastToast:null}),{configSettings:e,error:i,lastToast:l}=Ne(t.value),s=({detail:p})=>{e.value={...O},l.value={message:`Configuration reset: ${p.reason}`,type:"warning"}},r=({detail:{invalidKeys:p}})=>{p.includes(Ce.CONFIG)&&(e.value={...O},l.value={message:"Configuration was tampered with and has been reset",type:"error"})};return Oe(()=>{J.addEventListener("storage-reset",s),J.addEventListener("storage-tampered",r)}),qe(()=>{J.removeEventListener("storage-reset",s),J.removeEventListener("storage-tampered",r)}),{configSettings:e,error:i,defaultConfig:O,lastToast:l,loadSavedConfig:async()=>{try{const p=await Ge.get(Ce.CONFIG);if(!p)return e.value={...O},null;if(!Be(p))throw new Error("Invalid configuration format");return e.value={...O,...p,dns:p.dns||O.dns,endpoint:p.endpoint||O.endpoint,keepalive:p.keepalive??O.keepalive},null}catch{return e.value={...O},{message:"Config reset due to invalid format. Please reconfigure.",type:"warning"}}},saveConfig:async p=>{try{if(!Be(p))throw new Error("Invalid configuration format");const g={...p,dns:p.dns||O.dns,endpoint:p.endpoint||O.endpoint,keepalive:p.keepalive??O.keepalive};return await Ge.set(Ce.CONFIG,g),e.value=g,{message:"Configuration saved successfully",type:"success"}}catch(g){throw new Error(g.message||"Failed to save configuration")}},downloadConfig:async p=>{try{const g=Re(p,e.value),v=new Blob([await ce.downloadConfig(g)],{type:"application/x-wireguard-config"}),y=URL.createObjectURL(v),E=document.createElement("a");return E.href=y,E.download=`${p.name}.conf`,E.click(),URL.revokeObjectURL(y),{message:"Configuration downloaded",type:"success"}}catch(g){throw new Error(g.message||"Failed to download configuration")}},copyConfig:async p=>{try{const g=await ce.generateConfig(Re(p,e.value));return await navigator.clipboard.writeText(g),{message:"Configuration copied to clipboard",type:"success"}}catch(g){throw new Error(g.message||"Failed to copy configuration")}}}}const vt=200,pt={top:0,behavior:"smooth"},G={CUSTOMIZER:"showCustomizer",KEY_GENERATOR:"showKeyGenerator",QR_CODE:"showQrCode"};function mt(){const t=localStorage.getItem("showServerIp"),e=D({isPanelOpen:!1,isDebouncing:!1,showScrollTop:!1,showServerIp:t==="true",[G.CUSTOMIZER]:!1,[G.KEY_GENERATOR]:!1,[G.QR_CODE]:!1,qrCodeUrl:"",selectedServer:null}),{isPanelOpen:i,isDebouncing:l,showScrollTop:s,showServerIp:r,showCustomizer:d,showKeyGenerator:u,showQrCode:h,qrCodeUrl:S,selectedServer:p}=Ne(e.value);me(r,K=>{localStorage.setItem("showServerIp",K?"true":"false")});const g=()=>i.value&&(i.value=!1),v=()=>{l.value||(l.value=!0,i.value=!i.value,setTimeout(()=>{l.value=!1},vt))},y=K=>{i.value=!1,e.value[K]=!0};return{isPanelOpen:i,showScrollTop:s,showServerIp:r,showCustomizer:d,showKeyGenerator:u,showQrCode:h,qrCodeUrl:S,selectedServer:p,closePanel:g,togglePanel:v,scrollToTop:()=>window.scrollTo(pt),openCustomizer:()=>y(G.CUSTOMIZER),openKeyGenerator:()=>y(G.KEY_GENERATOR),handleGenerateKey:K=>{p.value=K,e.value[G.KEY_GENERATOR]=!0},handleShowQR:async(K,$)=>{try{p.value=K,e.value[G.QR_CODE]=!0,S.value&&URL.revokeObjectURL(S.value),S.value=URL.createObjectURL(await $())}catch(V){throw e.value[G.QR_CODE]=!1,V}},cleanup:()=>S.value&&URL.revokeObjectURL(S.value)}}const ft=2e3,gt=100,je={success:{bg:"bg-nord-success-bg",text:"text-nord-success-text",border:"border-nord-success-text/20",shadow:"shadow-nord-success-text/10"},error:{bg:"bg-nord-load-critical-bg",text:"text-nord-load-critical-text",border:"border-nord-load-critical-text/20",shadow:"shadow-nord-load-critical-text/10"},info:{bg:"bg-nord-bg-overlay",text:"text-nord-text-primary",border:"border-nord-text-primary/20",shadow:"shadow-nord-text-primary/10"}};function We(){const t=D(null);let e;return{toast:t,show:(s,r="info")=>{if(!s)return;const d=s instanceof Error?s.message.split(`
`)[0]:String(s).slice(0,gt);clearTimeout(e),t.value={message:d,type:r,styles:je[r]||je.info},e=setTimeout(()=>t.value=null,ft)},clear:()=>{clearTimeout(e),t.value=null}}}const j={close:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z",menu:"M0 9v2h50V9Zm0 15v2h50v-2Zm0 15v2h50v-2Z",settings:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.49.49 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.07.63-.07.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6",arrowUp:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z",eye:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z",eyeOff:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z",copy:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 16H5V5h2v2h10V5h2v14z",check:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z",key:"M12.65 10A5.99 5.99 0 0 0 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6a5.99 5.99 0 0 0 5.65-4H17v4h4v-4h2v-4zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2",downloadConfig:"M12.5 4C10.032 4 8 6.032 8 8.5v31c0 2.468 2.032 4.5 4.5 4.5h23c2.468 0 4.5-2.032 4.5-4.5v-21a1.5 1.5 0 0 0-.44-1.06l-.015-.016L26.56 4.439A1.5 1.5 0 0 0 25.5 4zm0 3H24v8.5c0 2.468 2.032 4.5 4.5 4.5H37v19.5c0 .846-.654 1.5-1.5 1.5h-23c-.846 0-1.5-.654-1.5-1.5v-31c0-.846.654-1.5 1.5-1.5M27 9.121 34.879 17H28.5c-.846 0-1.5-.654-1.5-1.5zM23.977 21.98A1.5 1.5 0 0 0 22.5 23.5v6.379l-1.44-1.44a1.5 1.5 0 1 0-2.12 2.122l4 4a1.5 1.5 0 0 0 1.08.439 1.5 1.5 0 0 0 1.04-.44l4-4a1.5 1.5 0 1 0-2.122-2.12L25.5 29.878V23.5a1.5 1.5 0 0 0-1.523-1.521M24.02 35H17.5a1.5 1.5 0 1 0 0 3h13a1.5 1.5 0 1 0 0-3z",copyConfig:"M4 2a2 2 0 0 0-2 2v14h2V4h14V2zm4 4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 2h12v12H8z",showQr:"M4 3a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm7 0v2h2V3zm5 0a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zM5 5h2v2H5zm12 0h2v2h-2zm-6 2v2h2V7zm-8 4v2h2v-2zm4 0v2h2v-2zm4 0v2h2v-2zm2 2v2h2v-2zm2 0h2v-2h-2zm2 0v2h2v-2zm2 0h2v-2h-2zm0 2v2h2v-2zm0 2h-2v2h2zm0 2v2h2v-2zm-2 0h-2v2h2zm-2 0v-2h-2v2zm-2 0h-2v2h2zm0-2v-2h-2v2zm2 0h2v-2h-2zM4 15a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1zm1 2h2v2H5z",info:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z",error:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z",github:"M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0 0 24 12c0-6.63-5.37-12-12-12",nord:"m16.901 21.064 4.022 6.154-1.538-4.615L24 14.91l6.154 10.769-.732-3.482.732-1.133 9.522 15.474A19.9 19.9 0 0 0 44 24.14c0-11.046-8.954-20-20-20s-20 8.954-20 20c0 4.375 1.421 8.41 3.805 11.702z"},yt={class:"p-2.5 bg-nord-bg-card border-l-2 border-transparent md:hover:border-nord-button-primary md:hover:bg-nord-bg-hover cursor-pointer group transition-colors",role:"article"},bt={class:"flex justify-between items-start gap-2"},ht={class:"min-w-0"},xt={class:"font-medium text-nord-text-primary truncate"},wt={class:"text-sm text-nord-text-secondary truncate"},Et={class:"flex items-center gap-1 shrink-0",role:"group","aria-label":"Server actions"},Ct={class:"flex gap-0.5"},Tt=["onClick","aria-label"],St=["viewBox"],kt=["d"],_t={__name:"ServerCard",props:{name:{type:String,required:!0},country:{type:String,required:!0},city:{type:String,required:!0},ip:{type:String,required:!1},showIp:{type:Boolean,default:!1},load:{type:Number,required:!0,validator:t=>t>=0&&t<=100}},emits:["generate-key","download-config","copy-config","show-qr","copy-ip"],setup(t,{emit:e}){const i=[{threshold:20,style:"bg-nord-load-low-bg text-nord-load-low-text"},{threshold:40,style:"bg-nord-load-medium-bg text-nord-load-medium-text"},{threshold:60,style:"bg-nord-load-warning-bg text-nord-load-warning-text"},{threshold:80,style:"bg-nord-load-high-bg text-nord-load-high-text"}],l=[{name:"download-config",label:"Download configuration",icon:"downloadConfig",viewBox:"0 0 48 48"},{name:"copy-config",label:"Copy configuration",icon:"copyConfig",viewBox:"0 0 24 24"},{name:"show-qr",label:"Show QR code",icon:"showQr",viewBox:"0 0 24 24"}],s=t,{show:r}=We(),d=e,u=U(()=>{var g;return((g=i.find(({threshold:v})=>s.load<=v))==null?void 0:g.style)??"bg-nord-load-critical-bg text-nord-load-critical-text"}),h=p=>{try{const g=document.createElement("textarea");return g.value=p,g.style.position="fixed",g.style.left="-9999px",document.body.appendChild(g),g.select(),document.execCommand("copy"),document.body.removeChild(g),!0}catch{return!1}},S=()=>{h(s.ip)?(r(`IP ${s.ip} copied to clipboard`,"success"),d("copy-ip",s.ip)):r("Failed to copy IP address","error")};return(p,g)=>(f(),b("article",yt,[o("div",bt,[o("div",ht,[o("h3",xt,I(t.name),1),o("p",wt,I(t.country)+" - "+I(t.city),1),t.showIp&&t.ip?(f(),b("button",{key:0,type:"button",class:"text-sm font-medium text-nord-text-secondary/50 truncate px-0 py-0 focus:outline-none hover:text-nord-text-primary transition-colors",onClick:S,"aria-label":"Copy server IP"},I(t.ip),1)):P("",!0)]),o("div",Et,[o("span",{class:_(["text-xs px-1.5 py-0.5 rounded whitespace-nowrap font-medium",u.value]),role:"status","aria-label":"Server load"},I(t.load)+"% ",3),o("div",Ct,[(f(),b(ne,null,le(l,({name:v,label:y,icon:E,viewBox:C})=>o("button",{key:v,onClick:ye(m=>p.$emit(v),["stop"]),class:"p-1 rounded active:scale-125 transition-transform md:hover:bg-nord-bg-active text-nord-text-primary","aria-label":y},[(f(),b("svg",{class:"h-4 w-4",viewBox:C,fill:"currentColor",role:"img","aria-hidden":"true"},[o("path",{d:a(j)[E]},null,8,kt)],8,St))],8,Tt)),64))])])])]))}},It={class:"min-h-screen bg-vscode-bg text-vscode-text",role:"dialog","aria-labelledby":"config-customizer-title"},Rt={class:"space-y-6",role:"group","aria-label":"Configuration options"},Nt={class:"space-y-2"},Ot={class:"relative"},At=["value","type","aria-invalid","aria-describedby"],Kt=["aria-label"],Pt={class:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor",role:"img","aria-hidden":"true"},$t=["d"],Lt={key:0,id:"private-key-error",class:"text-xs text-nord-text-error mt-1 font-medium",role:"alert"},Ut={class:"space-y-2"},zt=["value","placeholder","aria-invalid","aria-describedby"],Mt={key:0,id:"dns-error",class:"text-xs text-nord-text-error mt-1 font-medium",role:"alert"},Dt={class:"space-y-2"},Vt=["value"],Gt={class:"space-y-2"},Bt={for:"keepalive",class:"block text-sm font-medium text-nord-text-primary"},jt=["value","min","max","placeholder","aria-invalid","aria-describedby"],Ft={key:0,id:"keepalive-error",class:"text-xs text-nord-text-error mt-1 font-medium",role:"alert"},qt={class:"fixed bottom-0 left-0 right-0 bg-vscode-header border-t border-vscode-active p-4"},Ht={class:"container mx-auto max-w-2xl flex justify-end gap-3"},Yt=["disabled"],Xt={__name:"ConfigCustomizer",props:{defaultConfig:{type:Object,required:!0,validator:t=>["dns","endpoint","keepalive"].every(e=>e in t)},savedConfig:{type:Object,required:!0,validator:t=>["privateKey","dns","endpoint","keepalive"].every(e=>e in t||e===void 0)}},emits:["save","cancel"],setup(t,{emit:e}){const i=[{value:"hostname",label:"Hostname"},{value:"station",label:"IP"}],l={INPUT_BASE:"w-full bg-vscode-bg border rounded px-3 py-2 text-sm outline-none transition-colors",INPUT_ERROR:"border-nord-text-error focus:border-nord-text-error focus:ring-2 focus:ring-nord-ring-error/30 text-nord-text-error",INPUT_DEFAULT:"border-nord-button-secondary focus:border-nord-button-primary focus:ring-2 focus:ring-nord-ring-primary/30 text-nord-text-primary",BUTTON_BASE:"min-w-touch min-h-touch px-4 py-2 rounded transition-colors"},s=t,r=e,d=D({privateKey:s.savedConfig.privateKey??"",dns:s.savedConfig.dns??"",endpoint:s.savedConfig.endpoint??s.defaultConfig.endpoint,keepalive:s.savedConfig.keepalive??""}),u=D({privateKey:"",dns:"",keepalive:""}),h=D(!1),S=U(()=>{const{privateKey:C,dns:m,endpoint:x,keepalive:w}=d.value,k=s.savedConfig,K=s.defaultConfig;return C!==(k.privateKey??"")||m!==(k.dns??"")||x!==(k.endpoint??K.endpoint)||w!==(k.keepalive??"")}),p=U(()=>{const C=!Object.values(u.value).some(x=>x),m=T.PRIVATE_KEY.validate(d.value.privateKey)&&T.DNS.validate(d.value.dns)&&T.KEEPALIVE.validate(d.value.keepalive);return C&&m&&S.value}),g=U(()=>{const{privateKey:C,dns:m,endpoint:x,keepalive:w}=s.savedConfig,k=s.defaultConfig;return!!(C||m&&m!==k.dns||x&&x!==k.endpoint||w&&w!==k.keepalive)}),v=(C,m)=>{d.value[C]=m;const x={privateKey:()=>T.PRIVATE_KEY.validate(m)?"":T.PRIVATE_KEY.ERROR,dns:()=>T.DNS.validate(m)?"":T.DNS.ERROR,keepalive:()=>T.KEEPALIVE.validate(m)?"":T.KEEPALIVE.ERROR};C in x&&(u.value[C]=x[C]())},y=()=>{if(p.value){const{dns:C,keepalive:m,endpoint:x}=s.defaultConfig;r("save",{...d.value,dns:d.value.dns||C,keepalive:d.value.keepalive||m,endpoint:d.value.endpoint||x})}},E=()=>{d.value={privateKey:"",dns:"",endpoint:s.defaultConfig.endpoint,keepalive:""},u.value={privateKey:"",dns:"",keepalive:""}};return(C,m)=>(f(),b("div",It,[m[9]||(m[9]=o("header",{class:"sticky top-0 z-50 bg-vscode-header border-b border-vscode-active shadow-lg"},[o("div",{class:"px-4 h-14 flex items-center"},[o("h1",{id:"config-customizer-title",class:"text-lg font-medium"},"Customize Configuration")])],-1)),o("form",{onSubmit:ye(y,["prevent"]),class:"container mx-auto px-4 py-6 max-w-2xl"},[o("div",Rt,[o("div",Nt,[m[6]||(m[6]=o("label",{for:"private-key",class:"block text-sm font-medium text-nord-text-primary"},"Private Key",-1)),o("div",Ot,[o("input",{id:"private-key",value:d.value.privateKey,onInput:m[0]||(m[0]=x=>v("privateKey",x.target.value)),type:h.value?"text":"password",placeholder:"YOUR_PRIVATE_KEY",class:_([l.INPUT_BASE,u.value.privateKey?l.INPUT_ERROR:l.INPUT_DEFAULT]),"aria-invalid":!!u.value.privateKey,"aria-describedby":u.value.privateKey?"private-key-error":void 0},null,42,At),o("button",{type:"button",onClick:m[1]||(m[1]=x=>h.value=!h.value),class:"absolute right-2.5 top-1/2 -translate-y-1/2 p-1 text-nord-text-primary/70 hover:text-nord-text-primary transition-colors outline-none","aria-label":h.value?"Hide private key":"Show private key"},[(f(),b("svg",Pt,[o("path",{d:h.value?a(j).eye:a(j).eyeOff},null,8,$t)]))],8,Kt)]),u.value.privateKey?(f(),b("p",Lt,I(u.value.privateKey),1)):P("",!0)]),o("div",Ut,[m[7]||(m[7]=o("label",{for:"dns",class:"block text-sm font-medium text-nord-text-primary"},"DNS",-1)),o("input",{id:"dns",value:d.value.dns,onInput:m[2]||(m[2]=x=>v("dns",x.target.value)),type:"text",placeholder:`${t.defaultConfig.dns} (e.g., 103.86.96.100, 8.8.8.8)`,class:_([l.INPUT_BASE,u.value.dns?l.INPUT_ERROR:l.INPUT_DEFAULT]),"aria-invalid":!!u.value.dns,"aria-describedby":u.value.dns?"dns-error":void 0},null,42,zt),u.value.dns?(f(),b("p",Mt,I(u.value.dns),1)):P("",!0)]),o("div",Dt,[m[8]||(m[8]=o("label",{for:"endpoint",class:"block text-sm font-medium text-nord-text-primary"},"Endpoint Type",-1)),fe(o("select",{id:"endpoint","onUpdate:modelValue":m[3]||(m[3]=x=>d.value.endpoint=x),class:_([l.INPUT_BASE,l.INPUT_DEFAULT,"appearance-none cursor-pointer"])},[(f(),b(ne,null,le(i,x=>o("option",{key:x.value,value:x.value},I(x.label),9,Vt)),64))],2),[[Te,d.value.endpoint]])]),o("div",Gt,[o("label",Bt," Keepalive ("+I(a(T).KEEPALIVE.MIN)+"-"+I(a(T).KEEPALIVE.MAX)+" seconds) ",1),o("input",{id:"keepalive",value:d.value.keepalive,onInput:m[4]||(m[4]=x=>v("keepalive",x.target.value)),type:"number",min:a(T).KEEPALIVE.MIN,max:a(T).KEEPALIVE.MAX,placeholder:t.defaultConfig.keepalive.toString(),class:_([l.INPUT_BASE,u.value.keepalive?l.INPUT_ERROR:l.INPUT_DEFAULT,"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"]),"aria-invalid":!!u.value.keepalive,"aria-describedby":u.value.keepalive?"keepalive-error":void 0},null,42,jt),u.value.keepalive?(f(),b("p",Ft,I(u.value.keepalive),1)):P("",!0)])]),o("div",qt,[o("div",Ht,[o("button",{type:"submit",disabled:!p.value,class:_([l.BUTTON_BASE,"text-white",p.value?"bg-nord-button-primary hover:bg-nord-button-primary-hover focus:ring-2 focus:ring-nord-ring-primary/50":"bg-nord-button-primary/40 cursor-not-allowed"]),"aria-label":"Save configuration"}," Save ",10,Yt),o("button",{type:"button",onClick:m[5]||(m[5]=x=>C.$emit("cancel")),class:_([l.BUTTON_BASE,"border border-nord-button-secondary hover:bg-nord-bg-hover focus:ring-2 focus:ring-nord-ring-secondary/50"]),"aria-label":"Cancel changes"}," Cancel ",2),g.value?(f(),b("button",{key:0,type:"button",onClick:E,class:_([l.BUTTON_BASE,"border border-nord-button-secondary hover:bg-nord-bg-hover text-nord-text-secondary focus:ring-2 focus:ring-nord-ring-secondary/50"]),"aria-label":"Reset to default values"}," Reset ",2)):P("",!0)])])],32)]))}},Qt={class:"min-h-[100dvh] bg-vscode-bg text-vscode-text flex flex-col"},Zt={class:"flex-1 overflow-auto"},Jt={class:"container mx-auto p-6 max-w-2xl"},Wt={key:0,class:"space-y-4"},eo={class:"space-y-2"},to={class:"relative"},oo=["value","type","aria-invalid","aria-describedby"],ro=["aria-label"],no={class:"w-4 h-4",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},ao=["d"],so={key:0,id:"token-error",class:"text-sm text-nord-text-error",role:"alert"},io={key:1,class:"bg-vscode-bg rounded-lg border border-vscode-active overflow-hidden"},lo={class:"p-4 font-mono text-base"},co={key:0,class:"text-nord-text-error font-medium"},uo={class:"bg-vscode-header border-t border-vscode-active p-4"},vo={class:"container mx-auto max-w-2xl flex justify-end gap-3"},po=["disabled"],mo={__name:"KeyGenerator",emits:["save","cancel"],setup(t,{emit:e}){const i={DEBOUNCE:300},l=e,s={INVALID_TOKEN:"Invalid token format. Must be 64 hexadecimal characters.",INVALID_TOKEN_API:"Invalid token. The token you provided is not valid.",CONNECTION:"Failed to connect to the server. Please try again.",EMPTY_TOKEN:"Please enter a token",INVALID_KEY:"Invalid key received from server"},r=D({error:"",isLoading:!1,token:"",debouncedToken:"",inputToken:"",showToken:!1,showResult:!1}),d=U(()=>{if(!r.value.debouncedToken)return"";const v=r.value.debouncedToken;return v.length!==64?"Token must be exactly 64 characters long":T.TOKEN.REGEX.test(v)?"":"Token must contain only hexadecimal characters (0-9, a-f)"});let u;const h=v=>{const y=v.target.value,E=v.target.selectionStart,C=T.TOKEN.sanitize(y);r.value.inputToken=C,requestAnimationFrame(()=>{v.target.value=C,v.target.setSelectionRange(E,E)}),clearTimeout(u),u=setTimeout(()=>{r.value.debouncedToken=r.value.token=C},i.DEBOUNCE)},S=v=>{v.preventDefault();const y=T.TOKEN.sanitize(v.clipboardData.getData("text"));Object.assign(r.value,{inputToken:y,debouncedToken:y,token:y})},p=async()=>{if(!T.TOKEN.REGEX.test(r.value.token))return r.value.error=s.INVALID_TOKEN,null;try{r.value.isLoading=!0,r.value.error="";const{key:v}=await ce.generateKey(r.value.token);if(!(v!=null&&v.length)||v.length<32)throw new Error(s.INVALID_KEY);return r.value.showResult=!0,v}catch(v){return r.value.showResult=!0,r.value.error=v.status===401?s.INVALID_TOKEN_API:s.CONNECTION,null}finally{r.value.isLoading=!1}},g=async()=>{if(!r.value.token){r.value.error=s.EMPTY_TOKEN;return}const v=await p();v&&l("save",v)};return He(()=>clearTimeout(u)),(v,y)=>(f(),b("div",Qt,[y[5]||(y[5]=o("header",{class:"sticky top-0 z-50 bg-vscode-header border-b border-vscode-active shadow-lg"},[o("div",{class:"px-6 h-14 flex items-center"},[o("h1",{class:"text-lg font-medium"},"Generate Private Key")])],-1)),o("div",Zt,[o("div",Jt,[r.value.showResult?(f(),b("div",io,[y[4]||(y[4]=o("div",{class:"bg-black/30 px-4 py-2 text-sm font-medium border-b border-vscode-active"},"Terminal",-1)),o("div",lo,[r.value.error?(f(),b("div",co," Error: "+I(r.value.error),1)):P("",!0)])])):(f(),b("div",Wt,[o("div",eo,[y[3]||(y[3]=o("label",{for:"auth-token",class:"block text-base font-medium text-nord-text-primary"},"Auth Token",-1)),o("div",to,[o("input",{id:"auth-token",value:r.value.inputToken,onInput:h,onPaste:S,onKeypress:y[0]||(y[0]=E=>{(!/^[a-fA-F0-9]$/.test(E.key)||r.value.inputToken.length>=64&&E.target.selectionStart===E.target.selectionEnd)&&E.preventDefault()}),maxlength:"64",type:r.value.showToken?"text":"password",placeholder:"token",class:_(["h-11 w-full bg-vscode-bg border rounded px-4 pr-12 outline-none transition-colors text-sm",r.value.debouncedToken&&(d.value||r.value.error)?"border-nord-text-error focus:border-nord-text-error focus:ring-2 focus:ring-nord-ring-error/30 text-nord-text-error":"border-nord-button-secondary focus:border-nord-button-primary focus:ring-2 focus:ring-nord-ring-primary/30 text-nord-text-primary"]),"aria-invalid":!!(r.value.debouncedToken&&(d.value||r.value.error)),"aria-describedby":r.value.debouncedToken&&(d.value||r.value.error)?"token-error":void 0},null,42,oo),o("button",{type:"button",onClick:y[1]||(y[1]=E=>r.value.showToken=!r.value.showToken),class:"absolute right-2.5 top-1/2 -translate-y-1/2 p-1 text-nord-text-primary/70 hover:text-nord-text-primary transition-colors outline-none","aria-label":r.value.showToken?"Hide token":"Show token"},[(f(),b("svg",no,[o("path",{fill:"currentColor",d:r.value.showToken?a(j).eye:a(j).eyeOff},null,8,ao)]))],8,ro)]),r.value.debouncedToken&&(d.value||r.value.error)?(f(),b("p",so,I(d.value||r.value.error),1)):P("",!0)])]))])]),o("div",uo,[o("div",vo,[r.value.showResult?P("",!0):(f(),b("button",{key:0,type:"button",onClick:g,disabled:r.value.isLoading||!r.value.token||!!d.value,class:_(["min-w-touch min-h-touch px-4 py-2 rounded transition-colors focus:outline-none focus:ring-2 text-white",r.value.isLoading||!r.value.token||d.value?"bg-nord-button-primary/40 cursor-not-allowed":"bg-nord-button-primary hover:bg-nord-button-primary-hover focus:ring-nord-ring-primary/50"])}," Generate ",10,po)),o("button",{onClick:y[2]||(y[2]=E=>v.$emit("cancel")),class:"min-w-touch min-h-touch px-4 py-2 rounded transition-colors focus:outline-none focus:ring-2 border border-nord-button-secondary hover:bg-nord-bg-hover focus:ring-nord-ring-secondary/50"},I(r.value.showResult?"Close":"Cancel"),1)])])]))}},fo={class:"px-4 py-2 rounded border border-current shadow-lg flex items-center gap-2"},go={class:"w-4 h-4",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},yo=["d"],bo={class:"text-sm"},ho=200,xo=2e3,wo={__name:"Toast",props:{message:{type:String,required:!0},type:{type:String,default:"info",validator:t=>["info","success","error"].includes(t)}},emits:["close"],setup(t,{emit:e}){const i=e,l=D(!1);let s,r;const d={info:"bg-nord-bg-overlay border-nord-text-primary/20 text-nord-text-primary shadow-nord-text-primary/10",success:"bg-nord-success-bg border-nord-success-text/20 text-nord-success-text shadow-nord-success-text/10",error:"bg-nord-load-critical-bg border-nord-load-critical-text/20 text-nord-load-critical-text shadow-nord-load-critical-text/10"},u={success:"check",error:"error",info:"info"};return Oe(()=>{requestAnimationFrame(()=>{l.value=!0,s=setTimeout(()=>{l.value=!1,r=setTimeout(()=>i("close"),ho)},xo)})}),He(()=>{clearTimeout(s),clearTimeout(r)}),(h,S)=>(f(),b("div",{class:_(["fixed bottom-4 right-4 z-[100] transition-transform transition-opacity duration-200",[l.value?"translate-y-0 opacity-100":"translate-y-2 opacity-0",d[t.type]]]),role:"alert"},[o("div",fo,[(f(),b("svg",go,[o("path",{fill:"currentColor",d:a(j)[u[t.type]]},null,8,yo)])),o("span",bo,I(t.message),1)])],2))}},Eo=["viewBox"],Co=["d"],Fe=24,Q={__name:"Icon",props:{name:{type:String,required:!0,validator:t=>t in j},size:{type:[String,Number],default:Fe,validator:t=>{const e=Number(t);return!isNaN(e)&&e>0}}},setup(t){const e={nord:{viewBox:"0 0 48 48"},downloadConfig:{viewBox:"0 0 48 48"},menu:{viewBox:"0 0 50 50"},default:{viewBox:"0 0 24 24"}},i=t,l=U(()=>{const r=e[i.name]||e.default,[,,d,u]=r.viewBox.split(" ").map(Number),h=d/Fe,S=Number(i.size);return{width:S*h,height:S*h}}),s=U(()=>(e[i.name]||e.default).viewBox);return(r,d)=>(f(),b("svg",Se(l.value,{viewBox:s.value,fill:"currentColor",role:"none","aria-hidden":"true"}),[o("path",{d:a(j)[t.name]},null,8,Co)],16,Eo))}},To={class:"bg-nord-bg-overlay-light px-3 py-1.5 text-xs font-medium border-b border-vscode-active flex items-center justify-between text-nord-text-primary"},So={id:"qr-dialog-title"},ko={class:"p-6 flex justify-center"},_o=["src","alt"],Io={key:4,class:"min-h-screen bg-vscode-bg text-vscode-text"},Ro={class:"sticky top-0 z-50 bg-vscode-header border-b border-vscode-active shadow-lg",role:"banner"},No={class:"flex flex-col sm:flex-row sm:items-center gap-2 p-2"},Oo={class:"flex items-center gap-2 flex-1",role:"navigation","aria-label":"Main navigation"},Ao=["value"],Ko=["disabled"],Po={key:0,value:""},$o=["value"],Lo=["aria-pressed"],Uo=["aria-pressed"],zo={class:"px-3 py-1.5 rounded bg-vscode-bg/50 border border-vscode-active/50",role:"status","aria-live":"polite"},Mo={class:"text-xs text-nord-text-secondary font-semibold"},Do={class:"flex-1 overflow-y-auto"},Vo={class:"p-4 space-y-3"},Go={class:"flex items-center gap-2"},Bo={class:"flex items-center gap-2"},jo={class:"mt-4"},Fo={class:"flex items-center justify-between cursor-pointer group"},qo={class:"p-4 space-y-3 border-t border-vscode-active bg-nord-bg-overlay/20"},Ho={href:"https://github.com/mustafachyi/NordVPN-WireGuard-Config-Generator",target:"_blank",rel:"noopener",class:"block px-4 py-2.5 rounded border border-nord-external-github/50 bg-nord-external-github/10 text-sm text-nord-external-github transition-colors relative group overflow-hidden active:scale-[0.98] md:active:scale-100"},Yo={class:"flex items-center justify-center gap-2"},Xo={href:"https://refer-nordvpn.com/MXIVDoJGpKT",target:"_blank",rel:"noopener",class:"block px-4 py-2.5 rounded border border-nord-external-nord/50 bg-nord-external-nord/10 text-sm text-nord-external-nord transition-colors relative group overflow-hidden active:scale-[0.98] md:active:scale-100"},Qo={class:"flex items-center justify-center gap-2"},Zo={class:"container mx-auto px-4 py-6",role:"main"},Jo={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-2 mx-auto"},Wo={key:0,class:"flex justify-center py-4"},er={__name:"App",setup(t){const{visibleServers:e,isLoading:i,sortBy:l,sortOrder:s,filterCountry:r,filterCity:d,countries:u,citiesForCountry:h,filteredCount:S,updateVisibleServers:p,loadMoreServers:g,toggleSort:v,loadServers:y}=dt(),{configSettings:E,defaultConfig:C,loadSavedConfig:m,saveConfig:x,downloadConfig:w,copyConfig:k,lastToast:K}=ut(),{isPanelOpen:$,showScrollTop:V,showServerIp:F,showCustomizer:be,showKeyGenerator:he,showQrCode:xe,qrCodeUrl:et,selectedServer:Ae,closePanel:oe,togglePanel:ue,scrollToTop:Ke,openCustomizer:Pe,openKeyGenerator:$e,handleGenerateKey:tt,handleShowQR:ot,cleanup:rt}=mt(),{toast:we,show:q}=We();me([l,s,r,d],p),me(r,z=>{d.value=z&&h.value.length===1?h.value[0]:""}),me(K,({message:z,type:n}={})=>z&&q(z,n||"info"));const Le=it(()=>{const{innerHeight:z,scrollY:n}=window,{offsetHeight:re}=document.documentElement;n>re-z-1e3&&g(),V.value=n>500},100),ve=async(z,n={})=>{const re={saveKey:async()=>{const{key:R}=n;if(!(R!=null&&R.trim()))throw new Error("Invalid key provided");return await x({...C,...E.value,privateKey:R.trim()}),he.value=!1,"Private key saved successfully"},saveConfig:async()=>{const{config:R}=n;if(!R)throw new Error("Invalid configuration");return await x(R),be.value=!1,"Configuration saved"},download:async()=>{const{server:R}=n;if(!R)throw new Error("No server selected");return await w(R),"Configuration downloaded"},copy:async()=>{const{server:R}=n;if(!R)throw new Error("No server selected");return await k(R),"Configuration copied"}};try{q(await re[z](),"success")}catch(R){q(R.message,"error")}};return Oe(async()=>{try{window.scrollTo(0,0),await Promise.all([y(),m()]),window.addEventListener("scroll",Le)}catch{q("Unable to load application data","error")}}),qe(()=>{window.removeEventListener("scroll",Le),rt()}),(z,n)=>{var re,R;return f(),b(ne,null,[a(we)?(f(),pe(wo,Se({key:0},a(we),{onClose:n[0]||(n[0]=c=>we.value=null)}),null,16)):P("",!0),a(xe)?(f(),b("div",{key:1,class:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:n[3]||(n[3]=c=>xe.value=!1),role:"dialog","aria-modal":"true","aria-labelledby":"qr-dialog-title"},[n[24]||(n[24]=o("div",{class:"fixed inset-0 bg-nord-bg-overlay/50 backdrop-blur-sm"},null,-1)),o("div",{class:"relative bg-vscode-bg rounded-lg border border-vscode-active overflow-hidden max-w-sm w-full qr-dialog",onClick:n[2]||(n[2]=ye(()=>{},["stop"]))},[o("div",To,[o("span",So,I((re=a(Ae))==null?void 0:re.name),1),o("button",{onClick:n[1]||(n[1]=c=>xe.value=!1),class:"p-1 rounded hover:bg-nord-bg-hover","aria-label":"Close QR code dialog"},[X(Q,{name:"close",class:"w-3.5 h-3.5"})])]),o("div",ko,[o("img",{src:a(et),alt:"WireGuard Configuration QR Code for server "+((R=a(Ae))==null?void 0:R.name),class:"w-[200px] h-[200px] rounded"},null,8,_o)])])])):P("",!0),a(he)?(f(),pe(mo,{key:2,onSave:n[4]||(n[4]=c=>ve("saveKey",{key:c})),onCancel:n[5]||(n[5]=c=>he.value=!1),onToast:n[6]||(n[6]=({message:c,type:H})=>a(q)(c,H))})):a(be)?(f(),pe(Xt,{key:3,defaultConfig:a(C),savedConfig:a(E),onSave:n[7]||(n[7]=c=>ve("saveConfig",{config:c})),onCancel:n[8]||(n[8]=c=>be.value=!1),onToast:n[9]||(n[9]=({message:c,type:H})=>a(q)(c,H))},null,8,["defaultConfig","savedConfig"])):(f(),b("div",Io,[o("header",Ro,[n[26]||(n[26]=o("h1",{class:"sr-only"},"NordVPN WireGuard Config Generator",-1)),o("div",No,[o("nav",Oo,[o("button",{onClick:n[10]||(n[10]=(...c)=>a(ue)&&a(ue)(...c)),onTouchstart:n[11]||(n[11]=ye((...c)=>a(ue)&&a(ue)(...c),["prevent"])),class:"shrink-0 min-w-touch min-h-touch p-2 flex items-center justify-center touch-manipulation focus:outline-none md:hover:bg-nord-bg-hover","aria-label":"Toggle navigation menu"},[X(Q,{name:"menu",class:"w-5 h-5"})],32),o("div",{class:"flex gap-2 w-full sm:w-auto overflow-hidden",onClick:n[14]||(n[14]=(...c)=>a(oe)&&a(oe)(...c))},[fe(o("select",{"onUpdate:modelValue":n[12]||(n[12]=c=>ze(r)?r.value=c:null),class:_(["bg-vscode-bg border border-vscode-active rounded px-2 py-1.5 text-sm touch-pan-y transition-all duration-200",{"w-full sm:w-[200px]":!a(r),"w-[45%] sm:w-[200px]":a(r)}]),"aria-label":"Filter by country"},[n[25]||(n[25]=o("option",{value:""},"All Countries",-1)),(f(!0),b(ne,null,le(a(u),c=>(f(),b("option",{key:c,value:c},I(a(de)(c)),9,Ao))),128))],2),[[Te,a(r)]]),o("div",{class:_(["overflow-hidden transition-[width] duration-200",a(r)?"w-[55%] sm:w-[200px]":"w-0"])},[fe(o("select",{"onUpdate:modelValue":n[13]||(n[13]=c=>ze(d)?d.value=c:null),disabled:a(h).length===1,class:"w-full bg-vscode-bg border border-vscode-active rounded px-2 py-1.5 text-sm disabled:opacity-50 disabled:cursor-not-allowed disabled:border-nord-text-secondary/30 touch-pan-y","aria-label":"Filter by city"},[a(h).length>1?(f(),b("option",Po,"All Cities")):P("",!0),(f(!0),b(ne,null,le(a(h),c=>(f(),b("option",{key:c,value:c},I(a(de)(c)),9,$o))),128))],8,Ko),[[Te,a(d)]])],2)])]),o("div",{class:"flex items-center justify-end gap-2 text-xs",onClick:n[17]||(n[17]=(...c)=>a(oe)&&a(oe)(...c)),role:"group","aria-label":"Sort controls"},[o("button",{onClick:n[15]||(n[15]=c=>a(v)("load")),class:_(["min-w-[80px] px-3 py-1.5 rounded border border-vscode-active md:hover:bg-nord-bg-hover font-semibold",{"bg-nord-load-low-bg text-nord-load-low-text border-nord-load-low-text":a(l)==="load"&&a(s)==="asc","bg-nord-load-critical-bg text-nord-load-critical-text border-nord-load-critical-text":a(l)==="load"&&a(s)==="desc"}]),"aria-pressed":a(l)==="load","aria-label":"Sort by server load"},"By Load",10,Lo),o("button",{onClick:n[16]||(n[16]=c=>a(v)("name")),class:_(["min-w-[80px] px-3 py-1.5 rounded border border-vscode-active md:hover:bg-nord-bg-hover font-semibold",{"bg-nord-load-medium-bg text-nord-load-medium-text border-nord-load-medium-text":a(l)==="name"&&a(s)==="asc","bg-nord-load-warning-bg text-nord-load-warning-text border-nord-load-warning-text":a(l)==="name"&&a(s)==="desc"}]),"aria-pressed":a(l)==="name","aria-label":"Sort alphabetically"},"A-Z",10,Uo),o("div",zo,[o("span",Mo,I(a(S))+" servers",1)])])])]),o("div",{class:_(["fixed inset-0 bg-nord-bg-overlay/30 z-30 transition-opacity duration-150",a($)?"opacity-100":"opacity-0 pointer-events-none"]),onClick:n[18]||(n[18]=(...c)=>a(oe)&&a(oe)(...c))},null,2),o("aside",{class:_(["fixed inset-y-0 left-0 w-64 bg-vscode-header border-r border-vscode-active z-40 transition-transform duration-150 flex flex-col",a($)?"translate-x-0":"-translate-x-full"]),role:"complementary","aria-label":"Settings panel"},[n[36]||(n[36]=o("div",{class:"sticky top-0 h-[115px] sm:h-14 bg-vscode-header"},null,-1)),o("div",Do,[o("div",Vo,[o("button",{onClick:n[19]||(n[19]=(...c)=>a(Pe)&&a(Pe)(...c)),class:"w-full min-h-touch px-4 py-2.5 rounded border border-vscode-active bg-nord-bg-overlay/20 text-sm transition-colors relative group overflow-hidden active:scale-[0.98] md:active:scale-100"},[n[28]||(n[28]=o("div",{class:"absolute inset-y-0 left-0 w-1 bg-vscode-accent transform -translate-x-1 md:group-hover:translate-x-0 transition-transform"},null,-1)),o("div",Go,[X(Q,{name:"settings",class:"w-4 h-4 text-vscode-accent"}),n[27]||(n[27]=o("span",null,"Customize Config",-1))])]),o("button",{onClick:n[20]||(n[20]=(...c)=>a($e)&&a($e)(...c)),class:"w-full min-h-touch px-4 py-2.5 rounded border border-vscode-active bg-nord-bg-overlay/20 text-sm transition-colors relative group overflow-hidden active:scale-[0.98] md:active:scale-100"},[n[30]||(n[30]=o("div",{class:"absolute inset-y-0 left-0 w-1 bg-vscode-accent transform -translate-x-1 md:group-hover:translate-x-0 transition-transform"},null,-1)),o("div",Bo,[X(Q,{name:"key",class:"w-4 h-4 text-vscode-accent"}),n[29]||(n[29]=o("span",null,"Generate Key",-1))])]),o("div",jo,[o("label",Fo,[n[31]||(n[31]=o("span",{class:"text-sm font-medium text-nord-text-primary"},"Show Server IP",-1)),o("button",{type:"button",onClick:n[21]||(n[21]=c=>F.value=!a(F)),class:_(["relative w-10 h-5 rounded-full transition-colors focus:outline-none",a(F)?"bg-nord-button-primary hover:bg-nord-button-primary-hover":"bg-nord-button-secondary hover:bg-nord-button-secondary-hover"]),"aria-pressed":"showServerIp","aria-label":"Toggle server IP display"},[o("span",{class:_(["absolute left-0 top-0 w-4 h-4 rounded-full bg-white transition-transform mt-0.5",a(F)?"translate-x-5":"translate-x-0.5"])},null,2)],2)])])])]),o("div",qo,[o("a",Ho,[n[33]||(n[33]=o("div",{class:"absolute inset-y-0 left-0 w-1 bg-nord-external-github transform -translate-x-1 md:group-hover:translate-x-0 transition-transform"},null,-1)),o("div",Yo,[X(Q,{name:"github",class:"w-4 h-4"}),n[32]||(n[32]=o("span",null,"Star on GitHub",-1))])]),o("a",Xo,[n[35]||(n[35]=o("div",{class:"absolute inset-y-0 left-0 w-1 bg-nord-external-nord transform -translate-x-1 md:group-hover:translate-x-0 transition-transform"},null,-1)),o("div",Qo,[X(Q,{name:"nord",class:"w-4 h-4"}),n[34]||(n[34]=o("span",null,"Get Nord",-1))])])])],2),o("main",Zo,[n[38]||(n[38]=o("h2",{class:"sr-only"},"Available Servers",-1)),o("div",Jo,[(f(!0),b(ne,null,le(a(e),c=>(f(),pe(_t,Se({key:c.name},{ref_for:!0},{name:c.displayName,country:c.displayCountry,city:c.displayCity,ip:c.ip,showIp:a(F),load:c.load},{onGenerateKey:H=>a(tt)(c),onDownloadConfig:H=>ve("download",{server:c}),onCopyConfig:H=>ve("copy",{server:c}),onShowQr:H=>a(ot)(c,()=>a(ce).generateQR(a(Re)(c,a(E)))),onCopyIp:n[22]||(n[22]=()=>a(q)("IP copied","success"))}),null,16,["onGenerateKey","onDownloadConfig","onCopyConfig","onShowQr"]))),128))]),a(i)?(f(),b("div",Wo,n[37]||(n[37]=[o("div",{class:"w-6 h-6 border-2 border-vscode-accent border-t-transparent rounded-full animate-spin"},null,-1)]))):P("",!0)]),fe(o("button",{onClick:n[23]||(n[23]=(...c)=>a(Ke)&&a(Ke)(...c)),class:"fixed bottom-4 right-4 min-w-touch min-h-touch p-2 rounded-full bg-vscode-header/90 backdrop-blur-sm border border-vscode-accent text-vscode-text shadow-lg z-50 md:hover:bg-nord-bg-hover","aria-label":"Scroll to top"},[X(Q,{name:"arrowUp",class:"w-5 h-5"})],512),[[nt,a(V)]])]))],64)}}},tr=at(er);tr.mount("#app");
