import{r as u,i as T,a as d,o as c,b as e,h as k,d as N,n as b,e as E,_ as w,t as U,V as v}from"./index-DozLruVz.js";const B={class:"min-h-[100dvh] bg-vscode-bg text-vscode-text flex flex-col"},O={class:"flex-1 overflow-auto"},S={class:"space-y-2"},A={class:"relative"},I=["value","type","aria-invalid","aria-describedby"],P=["aria-label"],R={key:0,id:"token-error",class:"text-xs text-nord-text-error mt-1 font-medium",role:"alert"},C={class:"bg-vscode-header border-t border-vscode-active p-4"},D={class:"container mx-auto max-w-2xl flex justify-end gap-3"},z=["disabled"],K={key:0},G={key:1},$={__name:"KeyGenerator",emits:["generate","cancel"],setup(L,{emit:h}){const l={INPUT_BASE:"w-full bg-vscode-bg border rounded px-3 py-2 text-sm outline-none transition-colors",INPUT_ERROR:"border-nord-text-error focus:border-nord-text-error focus:ring-2 focus:ring-nord-ring-error/30 text-nord-text-error",INPUT_DEFAULT:"border-nord-button-secondary focus:border-nord-button-primary focus:ring-2 focus:ring-nord-ring-primary/30 text-nord-text-primary",BUTTON_BASE:"min-w-touch min-h-touch px-4 py-2 rounded transition-colors focus:outline-none focus:ring-2"},p=h,a=u(""),t=u(""),n=u(!1),s=u(!1);let i=null;const f=()=>{a.value="",t.value="",s.value=!1,n.value=!1,clearTimeout(i)},m=r=>r?v.TOKEN.validate(r)?"":v.TOKEN.ERROR:"",_=r=>{const o=v.TOKEN.sanitize(r.target.value);a.value=o,r.target.value=o,clearTimeout(i),i=setTimeout(()=>{t.value=m(a.value)},300)},y=r=>{r.preventDefault();const o=v.TOKEN.sanitize(r.clipboardData.getData("text"));a.value=o,t.value=m(o)},x=async()=>{if(t.value=m(a.value),t.value||!a.value){a.value||(t.value="Please enter a token.");return}s.value=!0;try{await p("generate",a.value),f()}catch{}finally{s.value=!1}},g=()=>{f(),p("cancel")};return T(()=>clearTimeout(i)),(r,o)=>(c(),d("div",B,[o[2]||(o[2]=e("header",{class:"sticky top-0 z-50 bg-vscode-header border-b border-vscode-active shadow-lg"},[e("div",{class:"px-6 h-14 flex items-center"},[e("h1",{class:"text-lg font-medium"},"Generate Private Key")])],-1)),e("main",O,[e("form",{onSubmit:k(x,["prevent"]),class:"container mx-auto p-6 max-w-2xl"},[e("div",S,[o[1]||(o[1]=e("label",{for:"auth-token",class:"block text-sm font-medium text-nord-text-primary"},"Auth Token",-1)),e("div",A,[e("input",{id:"auth-token",value:a.value,onInput:_,onPaste:y,type:n.value?"text":"password",placeholder:"64-character hexadecimal token",maxlength:"64",class:b([l.INPUT_BASE,t.value?l.INPUT_ERROR:l.INPUT_DEFAULT]),"aria-invalid":!!t.value,"aria-describedby":t.value?"token-error":void 0},null,42,I),e("button",{type:"button",onClick:o[0]||(o[0]=V=>n.value=!n.value),class:"absolute right-2.5 top-1/2 -translate-y-1/2 p-1 text-nord-text-primary/70 hover:text-nord-text-primary","aria-label":n.value?"Hide token":"Show token"},[E(w,{name:n.value?"eye":"eyeOff",class:"w-4 h-4"},null,8,["name"])],8,P)]),t.value?(c(),d("p",R,U(t.value),1)):N("",!0)])],32)]),e("footer",C,[e("div",D,[e("button",{type:"button",onClick:x,disabled:s.value||!!t.value||!a.value,class:b([l.BUTTON_BASE,"text-white",s.value||t.value||!a.value?"bg-nord-button-primary/40 cursor-not-allowed":"bg-nord-button-primary hover:bg-nord-button-primary-hover focus:ring-nord-ring-primary/50","w-[140px]"])},[s.value?(c(),d("span",K,"Generating...")):(c(),d("span",G,"Generate"))],10,z),e("button",{type:"button",onClick:g,class:b([l.BUTTON_BASE,"border border-nord-button-secondary hover:bg-nord-bg-hover focus:ring-nord-ring-secondary/50"])}," Cancel ",2)])])]))}};export{$ as default};
